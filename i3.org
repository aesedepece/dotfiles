#+STARTUP: showall
* window manager
:PROPERTIES:
:tangle: ~/.i3/config
:mkdirp: true
:END:
** Variables
#+BEGIN_SRC conf
  set $mod Mod4
  set $filemanager dolphin
#+END_SRC

** Font
#+BEGIN_SRC conf
  font pango:Fantasque Sans Mono 14
#+END_SRC

** Use Mouse+$mod to drag floating windows to their wanted position
#+BEGIN_SRC conf
  floating_modifier $mod
#+END_SRC

** Kill focused window
#+BEGIN_SRC conf
  bindsym $mod+q kill
#+END_SRC

** Start dmenu (a program launcher)
#+BEGIN_SRC conf
  bindsym $mod+s exec quickswitch.py -d "dmenu_run -p 'launch :>' -fn 'Fantasque Sans Mono-14' -sb '#0088CC'"
#+END_SRC

** Switch between windows
#+BEGIN_SRC conf
  bindsym $mod+o exec quickswitch.py
#+END_SRC

** Switch between windows in scratchpad
#+BEGIN_SRC conf
  bindsym $mod+Shift+o exec quickswitch.py -s
#+END_SRC

** Change focus
#+BEGIN_SRC conf
  bindsym $mod+j focus left
  bindsym $mod+k focus down
  bindsym $mod+l focus up
  bindsym $mod+semicolon focus right
#+END_SRC

** Move focused window
#+BEGIN_SRC conf
  bindsym $mod+Shift+j move left
  bindsym $mod+Shift+k move down
  bindsym $mod+Shift+l move up
  bindsym $mod+Shift+semicolon move right
#+END_SRC

** Split in horizontal/vertical orientation
#+BEGIN_SRC conf
  bindsym $mod+h split h
  bindsym $mod+v split v
#+END_SRC

** Enter fullscreen mode for the focused container
#+BEGIN_SRC conf
  bindsym $mod+f fullscreen
#+END_SRC

** Change container layout (stacked, tabbed, toggle split)
#+BEGIN_SRC conf
  bindsym $mod+g layout stacking
  bindsym $mod+w layout tabbed
  bindsym $mod+e layout toggle split
#+END_SRC

** Toggle tiling / floating
#+BEGIN_SRC conf
  bindsym $mod+Shift+space floating toggle
#+END_SRC

** Change focus between tiling / floating windows
#+BEGIN_SRC conf
  bindsym $mod+space focus mode_toggle
#+END_SRC

** Setup workspaces
#+BEGIN_SRC conf
  # workspace defines
  set $w1 1
  set $w2 2
  set $w3 3
  set $w4 4
  set $w5 5
  set $w6 6
  set $w7 7
  set $w8 8
  set $w9 9
  set $w0 10
#+END_SRC
** Focus the parent/child container
#+BEGIN_SRC conf
  bindsym $mod+a focus parent
  bindsym $mod+Shift+a focus child
#+END_SRC

** Focus workspaces
#+BEGIN_SRC conf
  bindsym $mod+1 workspace $w1
  bindsym $mod+2 workspace $w2
  bindsym $mod+3 workspace $w3
  bindsym $mod+4 workspace $w4
  bindsym $mod+5 workspace $w5
  bindsym $mod+6 workspace $w6
  bindsym $mod+7 workspace $w7
  bindsym $mod+8 workspace $w8
  bindsym $mod+9 workspace $w9
  bindsym $mod+0 workspace $w10
#+END_SRC

** Move focused container to workspace
#+BEGIN_SRC conf
  bindsym $mod+Shift+1 move container to workspace $w1
  bindsym $mod+Shift+2 move container to workspace $w2
  bindsym $mod+Shift+3 move container to workspace $w3
  bindsym $mod+Shift+4 move container to workspace $w4
  bindsym $mod+Shift+5 move container to workspace $w5
  bindsym $mod+Shift+6 move container to workspace $w6
  bindsym $mod+Shift+7 move container to workspace $w7
  bindsym $mod+Shift+8 move container to workspace $w8
  bindsym $mod+Shift+9 move container to workspace $w9
  bindsym $mod+Shift+0 move container to workspace $w10
#+END_SRC

** Reload/restart/exit i3
#+BEGIN_SRC conf
  bindsym $mod+Shift+c reload
  bindsym $mod+Shift+r restart
  bindsym $mod+Shift+e exec i3-msg exit
#+END_SRC

** Resize window (you can also use the mouse for that)
#+BEGIN_SRC conf
  mode "resize" {
          bindsym Left resize shrink width 10 px or 10 ppt
          bindsym Down resize grow height 10 px or 10 ppt
          bindsym Up resize shrink height 10 px or 10 ppt
          bindsym Right resize grow width 10 px or 10 ppt

          # back to normal: Enter or Escape
          bindsym Return mode "default"
          bindsym Escape mode "default"
  }

  bindsym $mod+r mode "resize"
#+END_SRC

** Start i3bar and color theme
#+BEGIN_SRC conf
  bar {
      status_command i3status
      colors {
	  background #272822
          statusline #f8f8f2
          separator #f8f8f2
          focused_workspace #272822 #66d9ef
          active_workspace #ffffff #333333
          inactive_workspace #888888 #2e3436
          urgent_workspace #f8f8f2 #f92672
      }
  }

  client.focused #272822 #66d9ef #272822 #f92672
  client.focused_inactive #333333 #5f676a #ffffff #484e50
  client.unfocused #333333 #222222 #888888 #292d2e
  client.urgent #2f343a #de1b1b #ffffff #a40000
#+END_SRC

** Move the current workspace to the next output
#+BEGIN_SRC conf
  bindsym $mod+x move workspace to output right
  bindsym $mod+Shift+x move workspace to output left
#+END_SRC

** Hardware buttons
#+BEGIN_SRC conf
  bindsym XF86MonBrightnessUp exec /usr/bin/xbacklight -inc 10
  bindsym XF86MonBrightnessDown exec /usr/bin/xbacklight -dec 5

  bindsym XF86AudioRaiseVolume exec "amixer -D pulse sset Master '3%+'"
  bindsym XF86AudioLowerVolume exec "amixer -D pulse sset Master '1%-'"
  bindsym XF86AudioMute exec "amixer -D pulse set Master toggle"
  bindsym XF86AudioMicMute exec "amixer -D pulse sset Capture toggle"

  bindsym $mod+i exec "amixer -D pulse sset Master '3%+'"
  bindsym $mod+d exec "amixer -D pulse sset Master '1%-'"
#+END_SRC


** Borders
#+BEGIN_SRC conf
  bindsym $mod+t border normal
  bindsym $mod+y border 1pixel
  bindsym $mod+u border none
#+END_SRC

** Border for new windows
#+BEGIN_SRC conf
  new_window pixel 3
  new_float pixel 3
#+END_SRC

** Open terminal
#+BEGIN_SRC conf
  bindsym $mod+Return exec ZSH_TMUX_AUTOSTART=true i3-sensible-terminal
#+END_SRC

** Lock screen
#+BEGIN_SRC conf
  bindsym $mod+m exec lock
#+END_SRC

** Workspaces
Easily switch back and forth between workspaces. Assume you are in
workspace 1 and switch to 2, using ~mod+2~ again will switch you back
to where you came from, that is 1, if you again press ~mod+2~ you will
switch forth to workspace 2:
#+BEGIN_SRC conf
  workspace_auto_back_and_forth yes
  bindsym $mod+Tab workspace back_and_forth
#+END_SRC

** Make the currently focused window a scratchpad
#+BEGIN_SRC conf
  bindsym $mod+Shift+minus move scratchpad
#+END_SRC

** Show the scratchpad windows
Also emulate a second scratchpad with only one terminal.

#+BEGIN_SRC conf
  bindsym $mod+minus [title="^(.(?<!quake))*?$"] scratchpad show
  bindsym $mod+backslash [title="^(.(?<!quake))*?$"] scratchpad show

  exec --no-startup-id i3-msg "exec TMUX_AUTOSTART=no urxvt -title quake"

  for_window [title="^quake$"] move scratchpad
  for_window [title="^quake$"] border 25px
  for_window [title="^quake$"] resize shrink height 10px or 10pt

  bindsym $mod+grave [title="^quake$"] scratchpad show
#+END_SRC

** launch file manager
#+BEGIN_SRC conf
  bindsym $mod+n exec $filemanager
#+END_SRC

** fedora/gnome settings
#+BEGIN_SRC conf
  exec --no-startup-id feh --bg-scale `cat ~/.wallpaper`
  exec --no-startup-id xinput set-prop "CyPS/2 Cypress Trackpad" "Synaptics Tap Action" 0, 0, 0, 0, 1, 3, 0
#+END_SRC

** dropbox
#+BEGIN_SRC conf
 exec --no-startup-id dropbox start
#+END_SRC

** keyboard
#+BEGIN_SRC sh
 exec --no-startup-id setxkbmap -layout us -variant altgr-intl
#+END_SRC

* gnupg agent
:PROPERTIES:
:tangle: ~/.gnupg/gpg-agent.conf
:END:
#+BEGIN_SRC sh
enable-ssh-support
default-cache-ttl-ssh  800
max-cache-ttl-ssh      800
#+END_SRC

* status bar
:PROPERTIES:
:tangle: ~/.i3status.conf
:END:

#+BEGIN_SRC conf
  general {
          colors = true
          interval = 1
  }

  order += "wireless wlp1s0"
  order += "ethernet enp0s20u2"
  order += "volume master"
  order += "load"
  order += "disk /"
  order += "disk /home"
  order += "battery 0"
  order += "tztime local"

  wireless wlp1s0 {
          format_up = "W: (%quality at %essid, %bitrate) %ip"
          format_down = "W: -"
  }

  ethernet enp0s20u2 {
          # if you use %speed, i3status requires root privileges
          format_up = "E: %ip (%speed)"
          format_down = "E: -"
  }

  battery 0 {
          format = "☀ %status %percentage"
  }

  run_watch DHCP {
          pidfile = "/var/run/dhclient*.pid"
  }

  run_watch VPN {
          pidfile = "/var/run/vpnc/pid"
  }

  tztime local {
          format = "%a %b %d %Y %H:%M"
  }

  load {
          format = "☰ %1min"
  }

  disk "/" {
          format = "/ +%avail"
  }

  disk "/home" {
          format = "/home +%avail"
  }

  volume master {
          format = "♪: %volume"
          device = "pulse"
          mixer = "Master"
          mixer_idx = 0
  }
#+END_SRC
* ubuntu
** Get rid of the nautilus desktop window
#+BEGIN_SRC sh
  gsettings set org.gnome.desktop.background show-desktop-icons false
#+END_SRC

** Fix Emacs C-SPC
Remove that keybinding with:
#+BEGIN_SRC sh
  ibus-setup
#+END_SRC

** Change default terminal
#+BEGIN_SRC sh
  update-alternatives --config x-terminal-emulator
#+END_SRC
